class Random
{
    field int fib_previous, fib_current;

    constructor Random new()
    {
        let fib_previous = 1;
        let fib_current = 1;
        return this;
    }

    method void moveNext()
    {
        var int tmp;
        let tmp = fib_current + fib_previous;
        let fib_previous = fib_current;
        let fib_current = tmp;
        return;
    }

    method int next(int upperBound)
    {
        do moveNext();
        return Utils.mod(fib_current, upperBound);
    }

}